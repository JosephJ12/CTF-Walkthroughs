# WN10-AC-000020 Remediation

## About STIG WN10-AC-000020
This particular STIG enforces the Password History policy to be set to 24 passwwords remembered.

## Before Remediation

<img width="2272" height="1000" alt="image" src="https://github.com/user-attachments/assets/a98d93af-e8ba-4a4c-96e9-84467ad3002e" />

## Remediation Using PowerShell Script
We remediate the STIG using a Powershell script. We choose to remediate this using a script instead of manually to make this more scalable and portable across many devices.

```
# Define the security policy setting for Password History
$PolicyFile = "$env:TEMP\secpol.inf"
$Value = "24"

# Create a temporary security policy file
@"
[Unicode]
Unicode=yes
[System Access]
PasswordHistorySize = $Value
[Version]
signature="`$CHICAGO`$"
Revision=1
"@ | Out-File -FilePath $PolicyFile -Encoding Unicode

# Apply the security policy
secedit.exe /configure /db $env:windir\security\local.sdb /cfg $PolicyFile /areas SECURITYPOLICY

# Remove temporary file
Remove-Item $PolicyFile

Write-Host "Password history has been set to $Value"
```
